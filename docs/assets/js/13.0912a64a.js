(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{354:function(e,a,t){"use strict";t.r(a);var o=t(43),i=Object(o.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"v1-to-v2-migration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#v1-to-v2-migration"}},[e._v("#")]),e._v(" v1 to v2 Migration")]),e._v(" "),t("h2",{attrs:{id:"major-changes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#major-changes"}},[e._v("#")]),e._v(" Major Changes")]),e._v(" "),t("ul",[t("li",[e._v("Lambda installation, local configuration and deployment "),t("strong",[e._v("now via a CLI")]),e._v(" "),t("ul",[t("li",[e._v("Lamb-duh is now on NPM!")])])]),e._v(" "),t("li",[e._v("Complete, from-scratch rewrite of the codebase")]),e._v(" "),t("li",[t("strong",[e._v("Lamb-duh")]),e._v(" leverages AWS services even more to boost efficiency")]),e._v(" "),t("li",[e._v("Large deployments are considerably faster")]),e._v(" "),t("li",[e._v("Deployments are now versioned ("),t("strong",[e._v("off by default")]),e._v("), which allows for "),t("u",[e._v("not")]),e._v(" breaking users browser applications that may be cached.\n"),t("ul",[t("li",[e._v("S3 deployments can have the endpoint string automatically updated")]),e._v(" "),t("li",[e._v("For local testing/manual updates: following deployment the log will contain the correct endpoint, and using the SNS notification will supply it via SNS.")]),e._v(" "),t("li",[e._v("The number of saved aliases can be controlled, both as total numbers and amount of time")]),e._v(" "),t("li",[e._v("See "),t("strong",[e._v("versioningLimits")]),e._v(" in "),t("RouterLink",{attrs:{to:"/LambduhConfiguration.html#api-gateway-rest-apis-tasks"}},[e._v("Lamb-duh configuration: API Gateway Tasks")]),e._v(" for more details and how to turn the feature off")],1)])]),e._v(" "),t("li",[e._v("Start/Completion notifications now provided (via SNS)")]),e._v(" "),t("li",[e._v("Historical storage of the compressed archive file is available, and on by default")])]),e._v(" "),t("h2",{attrs:{id:"breaking-changes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#breaking-changes"}},[e._v("#")]),e._v(" Breaking Changes")]),e._v(" "),t("p",[e._v("While v2.0.0 is a total rewrite of the codebase from scratch, every effort has been made to maintain a nearly identical JSON configuration format.\nAny breaking changes are below.")]),e._v(" "),t("ol",[t("li",[e._v("Configuration files must be included in the triggering archive.\nLamb-duh no longer supports using a default configuration.")]),e._v(" "),t("li",[t("em",[e._v("IAM Roles")]),e._v(" "),t("ul",[t("li",[e._v("the "),t("em",[e._v("s3:ListBucket")]),e._v(" permission is now required for the triggering bucket where the code archive is placed to start the deployment process")]),e._v(" "),t("li",[e._v("The "),t("em",[e._v("lambda:DeleteAlias")]),e._v(" permission is now required")])])]),e._v(" "),t("li",[t("em",[e._v("Lambda Tasks")]),e._v(" "),t("ul",[t("li",[e._v("To keep with AWS standards, function handlers now default to "),t("code",[e._v("handler")]),e._v(" instead of the Lamb-duh v1.x required "),t("code",[e._v("lambda")]),e._v(".\nA "),t("code",[e._v("handler")]),e._v(" property has been added to both the function definition, and the task defaults, and can now be defined for all task functions or per-function.\n"),t("ul",[t("li",[e._v("To maintain v1.x compatibility, add "),t("code",[e._v('"handler": "lambda"')]),e._v(" as a setting for all existing Lambda task in the "),t("code",[e._v("defaults")]),e._v(" object.")])])])])]),e._v(" "),t("li",[t("em",[e._v("API Gateway Tasks")]),e._v(" "),t("ul",[t("li",[e._v("It's no longer possible to operate without a stage configured.\nAs API Gateway integration is presumably for deployment, this "),t("em",[e._v("shouldn't")]),e._v(" impact on production usage; however, it does break for anyone who previously ran without a stage configured.")]),e._v(" "),t("li",[t("code",[e._v("task.stage")]),e._v(" is now "),t("code",[e._v("task.deployment.stage")])])])])])])}),[],!1,null,null,null);a.default=i.exports}}]);