(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{168:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"initial-aws-configuration-manual"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#initial-aws-configuration-manual","aria-hidden":"true"}},[t._v("#")]),t._v(" Initial AWS Configuration: Manual")]),t._v(" "),s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("For this documentation, use of the AWS Console is assumed.")])]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("The names used (IAM role name, Lambda function name, etc.) will match the default names used by the CLI.")])]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#iam-configuration"}},[t._v("IAM Configuration")]),s("ul",[s("li",[s("a",{attrs:{href:"#create-a-new-role"}},[t._v("Create a new role")])]),s("li",[s("a",{attrs:{href:"#attach-inline-policies"}},[t._v("Attach Inline Policies")]),s("ul",[s("li",[s("a",{attrs:{href:"#api-gateway-management"}},[t._v("APIGatewayManagement")])]),s("li",[s("a",{attrs:{href:"#cloudwatch-logs"}},[t._v("Cloudwatch_Logs")])]),s("li",[s("a",{attrs:{href:"#lambda-management"}},[t._v("Lambda_Management")])]),s("li",[s("a",{attrs:{href:"#s3-trigger-bucket"}},[t._v("S3TriggerBucket")])]),s("li",[s("a",{attrs:{href:"#sns-reporting-optional"}},[t._v("SNS_Reporting (optional)")])])])]),s("li",[s("a",{attrs:{href:"#additional-policy-needed-for-u-each-u-s3-bucket-manipulated-by-a-deployment"}},[t._v("Additional policy needed for "),s("u",[t._v("each")]),t._v(" S3 bucket manipulated by a deployment")]),s("ul",[s("li",[s("a",{attrs:{href:"#s3-write-to-your-destination-bucket-name"}},[t._v("S3Writeto_YOUR-DESTINATION-BUCKET-NAME")])])])])])]),s("li",[s("a",{attrs:{href:"#lambda-configuration"}},[t._v("Lambda Configuration")]),s("ul",[s("li",[s("a",{attrs:{href:"#create-a-new-function"}},[t._v("Create a new function")])]),s("li",[s("a",{attrs:{href:"#configure-function"}},[t._v("Configure Function")])]),s("li",[s("a",{attrs:{href:"#add-trigger-to-function"}},[t._v("Add Trigger to Function")])])])]),s("li",[s("a",{attrs:{href:"#optional-add-tags"}},[t._v("Optional: Add Tags")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"iam-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#iam-configuration","aria-hidden":"true"}},[t._v("#")]),t._v(" IAM Configuration")]),t._v(" "),s("h3",{attrs:{id:"create-a-new-role"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-a-new-role","aria-hidden":"true"}},[t._v("#")]),t._v(" Create a new role")]),t._v(" "),s("ul",[s("li",[t._v("This will be a service role with the role type of "),s("em",[t._v("Lambda")])]),t._v(" "),s("li",[t._v("Do not attach any policies at this step")]),t._v(" "),s("li",[t._v("Add a tag with the "),s("em",[t._v("key")]),t._v(" of "),s("strong",[t._v("Lamb-duh Resource")]),t._v(" and a "),s("em",[t._v("value")]),t._v(" of "),s("strong",[t._v("true")])]),t._v(" "),s("li",[s("em",[t._v("Role Name:")]),t._v(" "),s("strong",[t._v("Lamb-duh_Deployment")])]),t._v(" "),s("li",[s("em",[t._v("Description:")]),t._v(" "),s("strong",[t._v("Lamb-duh role for deploying applications")])])]),t._v(" "),s("h3",{attrs:{id:"attach-inline-policies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#attach-inline-policies","aria-hidden":"true"}},[t._v("#")]),t._v(" Attach Inline Policies")]),t._v(" "),s("p",[t._v("This role is going to have five inline policies attached.\nThe policies below are the JSON for the "),s("strong",[t._v("Statement")]),t._v(" block.")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("ARNs")]),t._v(" "),s("p",[t._v("The Resource ARN fields can be as specific as warranted")])]),t._v(" "),s("h4",{attrs:{id:"api-gateway-management"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-gateway-management","aria-hidden":"true"}},[t._v("#")]),t._v(" API_Gateway_Management")]),t._v(" "),s("p",[t._v("Manage API Gateway endpoints, stages, and deployments.")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Effect"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Allow"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Action"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"apigateway:DELETE"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"apigateway:GET"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"apigateway:PATCH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"apigateway:POST"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"apigateway:PUT"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Resource"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"arn:aws:apigateway:*::/*"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("h4",{attrs:{id:"cloudwatch-logs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cloudwatch-logs","aria-hidden":"true"}},[t._v("#")]),t._v(" Cloudwatch_Logs")]),t._v(" "),s("p",[t._v("This is needed by all AWS Lambda functions to allow logging")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Effect"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Allow"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Action"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"logs:CreateLogGroup"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"logs:CreateLogStream"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"logs:PutLogEvents"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Resource"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"arn:aws:logs:*:*:*"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("h4",{attrs:{id:"lambda-management"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lambda-management","aria-hidden":"true"}},[t._v("#")]),t._v(" Lambda_Management")]),t._v(" "),s("p",[t._v("Create, update, and version Lambda functions")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Effect"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Allow"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Action"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iam:PassRole"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lambda:CreateAlias"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lambda:CreateFunction"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lambda:DeleteAlias"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lambda:DeleteFunction"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lambda:GetFunctionConfiguration"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lambda:GetPolicy"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lambda:ListAliases"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lambda:ListFunctions"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lambda:ListVersionsByFunction"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lambda:PublishVersion"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lambda:RemovePermission"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lambda:UpdateAlias"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lambda:UpdateFunctionCode"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lambda:UpdateFunctionConfiguration"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lambda:AddPermission"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Resource"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("h4",{attrs:{id:"s3-trigger-bucket"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#s3-trigger-bucket","aria-hidden":"true"}},[t._v("#")]),t._v(" S3_Trigger_Bucket")]),t._v(" "),s("p",[t._v("Where your compressed application archive is placed to start the Lamb-duh deployment process")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Effect"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Allow"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Action"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s3:ListBucket"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Resource"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"arn:aws:s3:::YOUR-TRIGGERING-BUCKET-NAME"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Effect"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Allow"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Action"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s3:DeleteObject"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s3:GetObject"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s3:PutObject"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Resource"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"arn:aws:s3:::YOUR-TRIGGERING-BUCKET-NAME/*"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("h4",{attrs:{id:"sns-reporting-optional"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sns-reporting-optional","aria-hidden":"true"}},[t._v("#")]),t._v(" SNS_Reporting (optional)")]),t._v(" "),s("p",[t._v("If you want notifications sent via SNS topics")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Effect"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Allow"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Action"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sns:Publish"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Resource"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"arn:aws:sns:*:*:*"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("h3",{attrs:{id:"additional-policy-needed-for-each-s3-bucket-manipulated-by-a-deployment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#additional-policy-needed-for-each-s3-bucket-manipulated-by-a-deployment","aria-hidden":"true"}},[t._v("#")]),t._v(" Additional policy needed for "),s("u",[t._v("each")]),t._v(" S3 bucket manipulated by a deployment")]),t._v(" "),s("p",[t._v("Each S3 task in an application configuration will overwrite the contents of a bucket-key (prefix)")]),t._v(" "),s("h4",{attrs:{id:"s3-write-to-your-destination-bucket-name"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#s3-write-to-your-destination-bucket-name","aria-hidden":"true"}},[t._v("#")]),t._v(" S3_Write_to_YOUR-DESTINATION-BUCKET-NAME")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Effect"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Allow"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Action"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s3:ListBucket"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Resource"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"arn:aws:s3:::YOUR-DESTINATION-BUCKET-NAME"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Effect"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Allow"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Action"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s3:DeleteObject"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s3:PutObject"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Resource"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"arn:aws:s3:::YOUR-DESTINATION-BUCKET-NAME/*"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("h2",{attrs:{id:"lambda-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lambda-configuration","aria-hidden":"true"}},[t._v("#")]),t._v(" Lambda Configuration")]),t._v(" "),s("h3",{attrs:{id:"create-a-new-function"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-a-new-function","aria-hidden":"true"}},[t._v("#")]),t._v(" Create a new function")]),t._v(" "),s("ul",[s("li",[t._v("From scratch")]),t._v(" "),s("li",[s("em",[t._v("Name:")]),t._v(" "),s("strong",[t._v("Lambduh_Deployment")])]),t._v(" "),s("li",[s("em",[t._v("Runtime:")]),t._v(" "),s("strong",[t._v("Node.js 8.10")])]),t._v(" "),s("li",[s("em",[t._v("Existing Role:")]),t._v(" "),s("strong",[t._v("Lamb-duh_Deployment")])])]),t._v(" "),s("h3",{attrs:{id:"configure-function"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure-function","aria-hidden":"true"}},[t._v("#")]),t._v(" Configure Function")]),t._v(" "),s("ul",[s("li",[t._v("Upload the "),s("code",[t._v("./Lambda Deployment Package.zip")]),t._v(" file")]),t._v(" "),s("li",[s("em",[t._v("Handler:")]),t._v(" "),s("strong",[t._v("deploy.lambda")])]),t._v(" "),s("li",[s("em",[t._v("Memory Size:")]),t._v(" "),s("strong",[t._v("2048 MB")]),t._v(" (or greater)")]),t._v(" "),s("li",[s("em",[t._v("Timeout:")]),t._v(" "),s("strong",[t._v("2 minutes")]),t._v(" (or greater)")])]),t._v(" "),s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Memory and Timeout")]),t._v(" "),s("p",[t._v("If you experience any issues with the process timing out during a deployment, "),s("strong",[t._v("increase")]),t._v(" either the "),s("em",[t._v("Memory Size")]),t._v(" or the "),s("em",[t._v("Timeout")]),t._v(" period, or both.")])]),t._v(" "),s("h3",{attrs:{id:"add-trigger-to-function"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-trigger-to-function","aria-hidden":"true"}},[t._v("#")]),t._v(" Add Trigger to Function")]),t._v(" "),s("ul",[s("li",[t._v("Add S3 trigger for compressed archive\n"),s("ul",[s("li",[t._v("For your trigger bucket")]),t._v(" "),s("li",[t._v("All object create events")]),t._v(" "),s("li",[s("em",[t._v("Suffix:")]),t._v(" "),s("strong",[t._v(".zip")]),t._v(" "),s("ul",[s("li",[t._v("Use "),s("strong",[t._v(".tar.gz")]),t._v(" if you prefer, or create a second trigger to handle both")])])])])]),t._v(" "),s("li",[t._v("Add S3 trigger for Lamb-duh continuing deployment\n"),s("ul",[s("li",[t._v("For your trigger bucket")]),t._v(" "),s("li",[t._v("All object create events")]),t._v(" "),s("li",[s("em",[t._v("Suffix:")]),t._v(" "),s("strong",[t._v(".lambduh.txt")])])])])]),t._v(" "),s("h2",{attrs:{id:"optional-add-tags"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#optional-add-tags","aria-hidden":"true"}},[t._v("#")]),t._v(" Optional: Add Tags")]),t._v(" "),s("p",[t._v("For both the function in Lambda, and the IAM role:")]),t._v(" "),s("ul",[s("li",[t._v("Add a tag\n"),s("ul",[s("li",[s("em",[t._v("Key:")]),t._v(" "),s("strong",[t._v("Lamb-duh Resource")])]),t._v(" "),s("li",[s("em",[t._v("Value:")]),t._v(" "),s("strong",[t._v("true")])])])])]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Why Tag?")]),t._v(" "),s("p",[t._v("Tags are used by the CLI utility to more efficiently work with resources")])])])}],!1,null,null,null);a.default=e.exports}}]);